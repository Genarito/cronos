{"version":3,"file":"Cronos.umd.js","sources":["../src/Cronos.ts"],"sourcesContent":["type methodType = 'avoid' | 'once' | 'every';\n\nexport default class Cronos {\n    private isExecutionLocked: boolean = false;\n    private functionCount: number = 0;\n\n    /**\n     * Constructor\n     * @param functionToExecute Function to execute when time was reached\n     * @param timeToWait Time to wait (miliseconds) to prevent excecutions\n     * @param method 'avoid', 'once', 'every' to prevent execute function if time was not reached, execute once when time is reached, or execute as many times as run() was called when time is reached\n     */\n    constructor(private functionToExecute: Function, private timeToWait: number, private method: methodType = 'avoid') { }\n\n    /**\n     * Excecute the passed function if the waiting time was reached\n     */\n    public run() {\n        // In every of the three methods, if time was reached, it executes the function\n        if (!this.isExecutionLocked) {\n            this.execute();\n        } else {\n            // Only 'Once' of 'Every' method are considered\n            if (this.method == 'every' || (this.method == 'once' && !this.functionCount)) {\n                this.functionCount++;\n            }\n        }\n    }\n\n    /**\n     * Checks, in case of 'every' or 'once' strategy if It have\n     * to execute the function again\n     */\n    private checkIfThereIsPendingExecution() {\n        if (this.functionCount) {\n            this.functionCount--;\n            this.execute();\n        }\n    }\n\n    /**\n     * Executes the requested function and updates last time excecution\n     */\n    private execute() {\n        this.isExecutionLocked = true; // Block new calls to the function\n        this.functionToExecute(); // Execute the function\n\n        // After a the specified time to wait, It can execute the function again\n        setTimeout(() => {\n            this.isExecutionLocked = false;\n            this.checkIfThereIsPendingExecution();\n        }, this.timeToWait);\n    }\n}\n"],"names":["Cronos","constructor","functionToExecute","timeToWait","method","run","this","isExecutionLocked","functionCount","execute","checkIfThereIsPendingExecution"],"mappings":"8KAEqBA,EAUjBC,SAAoBC,EAAqCC,EAA4BC,kBAAqB,gCAAtFF,kBAAqCC,cAA4BC,0BAThD,qBACL,UAazBC,YAAAA,eAEEC,KAAKC,mBAIa,SAAfD,KAAKF,QAAqC,QAAfE,KAAKF,SAAqBE,KAAKE,qBACrDA,qBAJJC,WAaLC,YAAAA,0CACAJ,KAAKE,qBACAA,qBACAC,YAOLA,YAAAA,mCACCF,mBAAoB,OACpBL,4CAIIK,mBAAoB,IACpBG,kCACNJ,KAAKH"}